<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Управление категориями</title>
  <link rel="stylesheet" href="/static/css/category.css">
  <link rel="stylesheet" href="/static/css/header.css">
</head>
<body>
<!-- Включение хедера -->
<th:block th:replace="fragments/header :: header"></th:block>

<!-- Основной контент -->
<div class="container">
  <h1>Управление категориями</h1>
  <button class="button" onclick="openAddCategoryForm()">Добавить категорию</button>

  <!-- Таблица категорий -->
  <table class="categories-table">
    <thead>
    <tr>
      <th>Название</th>
      <th>Описание</th>
      <th>Действия</th>
    </tr>
    </thead>
    <tbody id="categories-list">
    <tr th:each="category : ${categories}">
      <td th:text="${category.name}"></td>
      <td th:text="${category.description}"></td>
      <td>
        <button class="button edit" th:onclick="'editCategory(' + ${category.id} + ')'">Редактировать</button>
        <button class="button delete" th:onclick="'deleteCategory(' + ${category.id} + ')'">Удалить</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<!-- Модальное окно для добавления/редактирования -->
<div id="category-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h2 id="modal-title">Добавить категорию</h2>
    <form id="category-form">
      <label for="category-name">Название категории</label>
      <input type="text" id="category-name" name="category-name" required>
      <label for="category-description">Описание</label>
      <textarea id="category-description" name="category-description"></textarea>
      <button type="submit" class="button">Сохранить</button>
    </form>
  </div>
</div>
<script src="/static/scripts/category_script.js"></script>
</body>
</html>
